<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <title>MusiCalidad</title>
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-wordpress-admin/wordpress-admin.css">
     <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>

     <link rel="stylesheet" href="main.css">

     <script src="stringTools.js"></script>
     <script src="stringComparacion.js"></script>

     <meta property="og:site_name" content="Cine Peliculas">
     <meta property="og:title" content="Cine Peliculas">
     <meta property="og:description" content="MÃ¡s de 2600 peliculas">
     <meta property="og:image" content="logo.png">
     <link rel="icon" type="image/png" href="logo.png">
</head>

<body>

     #encabezado
     
     <br>

     <div style="text-align: center;">
          <input placeholder="Buscar" id="Busqueda" type="text" class="swal2-input" style="width: 50%;margin: 5px;"
               onchange="ordenar()" onkeyup="if(event.keyCode == 13) ordenar()">
          <button class="btn btn-dark" onchange="ordenar()"><i class="fas fa-search"></i></button>
     </div>

     <br>


     #contenido

     <script>
          peliculas = document.getElementById("discografias")
          contenedores = document.getElementsByClassName("contenedor")

          function ordenar() {
               let PalabraBusqueda = document.getElementById("Busqueda").value;
               {
                    let arr = []
                    for (const c of contenedores) {
                         arr.push(c)
                    }
                    contenedores = arr
               }
               console.log("Busqueda: " + PalabraBusqueda.trim())
               if (PalabraBusqueda.trim()) {
                    contenedores.sort((a, b) => {
                         let nombre1 = a.getElementsByTagName("SPAN")[0].innerHTML;
                         let nombre2 = b.getElementsByTagName("SPAN")[0].innerHTML;
                         return BusquedaAcertada(nombre2, PalabraBusqueda) - BusquedaAcertada(nombre1, PalabraBusqueda)
                    })
               } else {
                    contenedores.sort((a, b) => {
                         let nombre1 = a.getElementsByTagName("SPAN")[0].innerHTML;
                         let nombre2 = b.getElementsByTagName("SPAN")[0].innerHTML;
                         if (nombre1 > nombre2) {
                              return 1
                         }
                         if (nombre1 < nombre2) {
                              return -1
                         }
                         return 0
                    })
               }
               peliculas.innerHTML = ""
               peliculas.append(...contenedores)
          }
     </script>

     <a href="random.html" class="aleatoria">
          <i class="fas fa-dice"></i> Aleatoria
     </a>

</body>

</html>